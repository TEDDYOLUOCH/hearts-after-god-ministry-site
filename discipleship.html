<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discipleship Portal | Hearts After God Ministry</title>
  <meta name="description" content="Advanced discipleship portal with quizzes, community features, and detailed progress tracking.">
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* Animated underline for nav */
    .nav-underline {
      position: absolute;
      left: 0;
      bottom: 0;
      height: 3px;
      background: #E02424;
      border-radius: 2px;
      transition: all 0.3s cubic-bezier(.4,0,.2,1);
      z-index: 10;
    }
    .nav-link {
      position: relative;
      padding-bottom: 4px;
      transition: color 0.2s;
      text-shadow: 0 1px 6px rgba(32, 70, 179, 0.18);
    }
    .nav-link.active {
      font-weight: bold;
      color: #FDBA17;
      text-shadow: 0 1px 6px rgba(32, 70, 179, 0.18);
    }
    .nav-link:focus {
      outline: 2px solid #FDBA17;
      outline-offset: 2px;
    }
    /* Mobile menu overlay */
    .mobile-overlay {
      background: rgba(44, 44, 44, 0.5);
      position: fixed;
      inset: 0;
      z-index: 40;
      display: none;
    }
    .mobile-overlay.open {
      display: block;
      animation: fadeIn 0.2s;
    }
    @keyframes fadeIn {
      from { opacity: 0; } to { opacity: 1; }
    }
    /* Slide-in mobile menu */
    .mobile-menu {
      position: fixed;
      top: 0; right: 0;
      width: 80vw; max-width: 320px;
      height: 100vh;
      background: #fff;
      box-shadow: -2px 0 16px rgba(0,0,0,0.08);
      z-index: 50;
      transform: translateX(100%);
      transition: transform 0.3s cubic-bezier(.4,0,.2,1);
      display: flex; flex-direction: column;
      padding: 2rem 1.5rem;
    }
    .mobile-menu.open {
      transform: translateX(0);
    }
    .mobile-menu .close-btn {
      align-self: flex-end;
      font-size: 2rem;
      color: #7C3AED;
      background: none;
      border: none;
      cursor: pointer;
      margin-bottom: 2rem;
    }
    /* Custom SVG pattern for header */
    .header-pattern {
      background: linear-gradient(90deg, #F3E8FF 0%, #FEF3C7 100%);
      background-image: url('data:image/svg+xml;utf8,<svg width="600" height="120" viewBox="0 0 600 120" fill="none" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g1" x1="0" y1="0" x2="0" y2="1"><stop stop-color="%237C3AED" stop-opacity="0.75" offset="0%"/><stop stop-color="%23FDBA17" stop-opacity="0.65" offset="100%"/></linearGradient><linearGradient id="g2" x1="0" y1="0" x2="0" y2="1"><stop stop-color="%237C3AED" stop-opacity="0.55" offset="0%"/><stop stop-color="%23FDBA17" stop-opacity="0.45" offset="100%"/></linearGradient></defs><path d="M0 80 C100 0 500 160 600 80 V120 H0Z" fill="url(%23g1)"/><path d="M0 100 C100 40 500 180 600 100 V120 H0Z" fill="url(%23g2)"/></svg>');
      background-repeat: repeat-x;
      background-size: 600px 120px;
      position: relative;
    }
    .header-pattern::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; height: 100%;
      z-index: 1;
      pointer-events: none;
      background: linear-gradient(to bottom, rgba(124,58,237,0.92) 0%, rgba(253,186,23,0.85) 100%);
      border-radius: inherit;
    }
    .header-pattern > * {
      position: relative;
      z-index: 2;
    }
  </style>
</head>
<body class="bg-white text-gray-900 antialiased">
  <!-- Discipleship Page Redesign -->
  <div id="site-header" class="sticky top-0 z-50 w-full"></div>
  <main class="min-h-screen bg-white">
    <!-- HERO SECTION -->
    <section class="relative min-h-[40vh] flex items-center justify-center bg-center bg-cover" style="background-image: url('assets/images/hero/IMG-20250705-WA0021.jpg');">
      <div class="absolute inset-0 bg-gradient-to-br from-[#7C3AED]/80 to-[#2046B3]/80"></div>
      <div class="relative z-10 text-center px-4 py-16 md:py-24">
        <h1 class="text-4xl md:text-6xl font-extrabold text-white drop-shadow-lg">Discipleship Training</h1>
        <p class="mt-4 text-xl md:text-2xl text-white font-medium max-w-2xl mx-auto">Equipping believers to grow in faith and become effective disciples of Jesus Christ.</p>
        <span class="block mt-2 text-[#FDBA17] text-lg md:text-xl font-semibold">"Go and make disciples of all nations, baptizing them in the name of the Father and of the Son and of the Holy Spirit." â€“ Matthew 28:19</span>
      </div>
    </section>

    <!-- Decorative SVG Pattern Background -->
    <div aria-hidden="true" class="fixed inset-0 pointer-events-none z-0">
      <svg class="absolute top-0 left-0 w-full h-40 opacity-10" viewBox="0 0 1440 320"><path fill="#7C3AED" fill-opacity="0.4" d="M0,160L60,170.7C120,181,240,203,360,197.3C480,192,600,160,720,133.3C840,107,960,85,1080,101.3C1200,117,1320,171,1380,197.3L1440,224L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"></path></svg>
    </div>
    
    <!-- What is Discipleship? -->
    <section id="about-discipleship" class="relative max-w-3xl mx-auto py-16 px-4 text-center bg-gradient-to-br from-[#F3E8FF]/60 to-[#FEF3C7]/60 rounded-xl shadow-xl mt-16 mb-16 border-t-4 border-[#7C3AED] opacity-0 animate-fade-in">
      <div class="flex justify-center mb-4">
        <div class="bg-[#7C3AED]/10 rounded-full p-3">
          <svg class="w-8 h-8 text-[#7C3AED]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 20l9-5-9-5-9 5 9 5z"/><path stroke-linecap="round" stroke-linejoin="round" d="M12 12V4m0 0L3 9m9-5l9 5"/></svg>
        </div>
      </div>
      <h2 class="text-2xl md:text-3xl font-extrabold text-[#7C3AED] mb-4 tracking-tight">What is Discipleship?</h2>
      <p class="text-lg text-gray-700 mb-10">Discipleship is a journey of following Jesus, growing in faith, and living out God's purpose in community. We believe in biblical teaching, personal growth, and supporting one another as we become more like Christ.</p>
      <div class="flex flex-col md:flex-row gap-6 justify-center">
        <div class="flex-1 bg-white rounded-xl shadow p-6 border-t-4 border-[#7C3AED] transition-transform hover:-translate-y-1">
          <h3 class="font-bold text-[#7C3AED] mb-2 flex items-center justify-center gap-2"><svg class="w-5 h-5 text-[#7C3AED]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>Biblical Foundation</h3>
          <p class="text-gray-600">Rooted in God's Word and the teachings of Jesus.</p>
        </div>
        <div class="flex-1 bg-white rounded-xl shadow p-6 border-t-4 border-[#FDBA17] transition-transform hover:-translate-y-1">
          <h3 class="font-bold text-[#FDBA17] mb-2 flex items-center justify-center gap-2"><svg class="w-5 h-5 text-[#FDBA17]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3"/></svg>Personal Growth</h3>
          <p class="text-gray-600">Developing character, faith, and spiritual disciplines.</p>
      </div>
        <div class="flex-1 bg-white rounded-xl shadow p-6 border-t-4 border-[#2046B3] transition-transform hover:-translate-y-1">
          <h3 class="font-bold text-[#2046B3] mb-2 flex items-center justify-center gap-2"><svg class="w-5 h-5 text-[#2046B3]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" stroke-linejoin="round" d="M8 12h8"/></svg>Community Support</h3>
          <p class="text-gray-600">Walking together, encouraging, and praying for one another.</p>
        </div>
      </div>
      <div class="absolute left-1/2 -bottom-8 -translate-x-1/2 w-24 h-2 bg-gradient-to-r from-[#7C3AED] via-[#FDBA17] to-[#2046B3] rounded-full shadow-lg"></div>
      <!-- SVG Wave Divider -->
      <svg class="absolute left-0 right-0 -bottom-16 w-full h-12" viewBox="0 0 1440 80" fill="none"><path fill="#F3E8FF" fill-opacity="0.7" d="M0,32L60,37.3C120,43,240,53,360,53.3C480,53,600,43,720,37.3C840,32,960,32,1080,37.3C1200,43,1320,53,1380,58.7L1440,64L1440,80L1380,80C1320,80,1200,80,1080,80C960,80,840,80,720,80C600,80,480,80,360,80C240,80,120,80,60,80L0,80Z"></path></svg>
  </section>

    <!-- Program Outline -->
    <section class="relative max-w-5xl mx-auto py-20 px-4 bg-white rounded-xl shadow-xl mb-16 border-t-4 border-[#FDBA17] opacity-0 animate-fade-in delay-100">
      <div class="flex justify-center mb-4">
        <div class="bg-[#FDBA17]/10 rounded-full p-3">
          <svg class="w-8 h-8 text-[#FDBA17]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87m9-4V6a4 4 0 00-8 0v4m8 0a4 4 0 01-8 0"/></svg>
        </div>
      </div>
      <h2 class="text-2xl md:text-3xl font-extrabold text-[#7C3AED] mb-8 text-center tracking-tight">Our Discipleship Program</h2>
      <div class="grid md:grid-cols-3 gap-8">
        <div class="bg-gradient-to-br from-[#F3E8FF]/80 to-[#FEF3C7]/80 rounded-xl shadow p-6 flex flex-col items-center border-b-4 border-[#7C3AED] transition-transform hover:-translate-y-1">
          <svg class="w-10 h-10 text-[#7C3AED] mb-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 20l9-5-9-5-9 5 9 5z"/><path stroke-linecap="round" stroke-linejoin="round" d="M12 12V4m0 0L3 9m9-5l9 5"/></svg>
          <h3 class="font-bold text-[#7C3AED] mb-2">Teaching Outlines</h3>
          <p class="text-gray-600 text-center">Explore doctrine, lifestyle, and spiritual disciplines through structured lessons and group discussions.</p>
        </div>
        <div class="bg-gradient-to-br from-[#FEF3C7]/80 to-[#F3E8FF]/80 rounded-xl shadow p-6 flex flex-col items-center border-b-4 border-[#FDBA17] transition-transform hover:-translate-y-1">
          <svg class="w-10 h-10 text-[#FDBA17] mb-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87m9-4V6a4 4 0 00-8 0v4m8 0a4 4 0 01-8 0"/></svg>
          <h3 class="font-bold text-[#FDBA17] mb-2">Mentorship</h3>
          <p class="text-gray-600 text-center">Receive guidance and encouragement from mentors and small group leaders.</p>
        </div>
        <div class="bg-gradient-to-br from-[#F3E8FF]/80 to-[#FEF3C7]/80 rounded-xl shadow p-6 flex flex-col items-center border-b-4 border-[#2046B3] transition-transform hover:-translate-y-1">
          <svg class="w-10 h-10 text-[#2046B3] mb-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M7 8h10M7 12h4m1 8a9 9 0 100-18 9 9 0 000 18z"/></svg>
          <h3 class="font-bold text-[#2046B3] mb-2">Fellowship</h3>
          <p class="text-gray-600 text-center">Connect through events, group studies, and service opportunities.</p>
        </div>
      </div>
      <div class="absolute left-1/2 -bottom-8 -translate-x-1/2 w-24 h-2 bg-gradient-to-r from-[#FDBA17] via-[#7C3AED] to-[#2046B3] rounded-full shadow-lg"></div>
      <!-- SVG Wave Divider -->
      <svg class="absolute left-0 right-0 -bottom-16 w-full h-12" viewBox="0 0 1440 80" fill="none"><path fill="#FEF3C7" fill-opacity="0.7" d="M0,32L60,37.3C120,43,240,53,360,53.3C480,53,600,43,720,37.3C840,32,960,32,1080,37.3C1200,43,1320,53,1380,58.7L1440,64L1440,80L1380,80C1320,80,1200,80,1080,80C960,80,840,80,720,80C600,80,480,80,360,80C240,80,120,80,60,80L0,80Z"></path></svg>
  </section>

    <!-- How to Get Involved -->
    <section class="relative max-w-3xl mx-auto py-16 px-4 text-center bg-gradient-to-br from-[#F3E8FF]/60 to-[#FEF3C7]/60 rounded-xl shadow-xl mb-16 border-t-4 border-[#2046B3] opacity-0 animate-fade-in delay-200">
      <div class="flex justify-center mb-4">
        <div class="bg-[#2046B3]/10 rounded-full p-3">
          <svg class="w-8 h-8 text-[#2046B3]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8 17l4 4 4-4m-4-5v9"/></svg>
        </div>
      </div>
      <h2 class="text-2xl md:text-3xl font-extrabold text-[#7C3AED] mb-4 tracking-tight">How to Get Involved</h2>
      <ol class="list-decimal list-inside text-lg text-gray-700 mb-10 space-y-2 text-left md:text-center mx-auto max-w-md">
        <li>Sign up for a discipleship class</li>
        <li>Meet your mentor</li>
        <li>Join a small group</li>
        <li>Grow together in faith</li>
      </ol>
      <button type="button" data-open-register-modal class="cta-btn inline-flex items-center gap-2 px-8 py-3 bg-[#7C3AED] text-white font-bold rounded-full shadow-lg hover:bg-[#5B23B4] hover:text-white transition focus:outline-none focus-visible:ring-4 focus-visible:ring-[#7C3AED]/40" aria-label="Join Discipleship"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>Join Discipleship</button>
      <div class="absolute left-1/2 -bottom-8 -translate-x-1/2 w-24 h-2 bg-gradient-to-r from-[#2046B3] via-[#FDBA17] to-[#7C3AED] rounded-full shadow-lg"></div>
      <!-- SVG Wave Divider -->
      <svg class="absolute left-0 right-0 -bottom-16 w-full h-12" viewBox="0 0 1440 80" fill="none"><path fill="#F3E8FF" fill-opacity="0.7" d="M0,32L60,37.3C120,43,240,53,360,53.3C480,53,600,43,720,37.3C840,32,960,32,1080,37.3C1200,43,1320,53,1380,58.7L1440,64L1440,80L1380,80C1320,80,1200,80,1080,80C960,80,840,80,720,80C600,80,480,80,360,80C240,80,120,80,60,80L0,80Z"></path></svg>
    </section>

    <!-- Resources -->
    <section class="relative max-w-4xl mx-auto py-16 px-4 bg-white rounded-xl shadow-xl mb-16 border-t-4 border-[#7C3AED] opacity-0 animate-fade-in delay-300">
      <div class="flex justify-center mb-4">
        <div class="bg-[#7C3AED]/10 rounded-full p-3">
          <svg class="w-8 h-8 text-[#7C3AED]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
        </div>
      </div>
      <h2 class="text-2xl md:text-3xl font-extrabold text-[#7C3AED] mb-4 text-center tracking-tight">Resources</h2>
      <div class="flex flex-col md:flex-row gap-6 justify-center mb-4">
        <div class="flex-1 bg-gradient-to-br from-[#F3E8FF]/80 to-[#FEF3C7]/80 rounded-xl shadow p-6 border-l-4 border-[#7C3AED] transition-transform hover:-translate-y-1">
          <h3 class="font-bold text-[#7C3AED] mb-2 flex items-center gap-2"><svg class="w-5 h-5 text-[#7C3AED]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>Downloadable Materials</h3>
          <ul class="text-gray-600 list-disc list-inside mb-4">
            <li><a href="assets/docs/14 DAYS DISCIPLESHIP CLASSES.pptx" class="text-[#2046B3] underline hover:text-[#FDBA17]">14 Days Discipleship Classes (PPTX)</a></li>
            <li><a href="assets/docs/recommended-reading-list.pdf" class="text-[#FDBA17] underline hover:text-[#2046B3]" download>Recommended Reading List (PDF)</a></li>
          </ul>
          <a href="https://chat.whatsapp.com/F1BIzqQTulA5t5XlUDLWhK" target="_blank" rel="noopener" class="cta-btn inline-flex items-center gap-2 px-6 py-2 bg-green-500 text-white font-bold rounded-full shadow hover:bg-green-600 transition focus:outline-none focus-visible:ring-4 focus-visible:ring-green-400/40" aria-label="Join General Ministry WhatsApp">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/></svg>
            General Ministry WhatsApp
          </a>
        </div>
        <div class="flex-1 bg-gradient-to-br from-[#FEF3C7]/80 to-[#F3E8FF]/80 rounded-xl shadow p-6 border-l-4 border-[#FDBA17] transition-transform hover:-translate-y-1">
          <h3 class="font-bold text-[#FDBA17] mb-2 flex items-center gap-2"><svg class="w-5 h-5 text-[#FDBA17]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3"/></svg>Sermons & Articles</h3>
          <ul class="text-gray-600 list-disc list-inside mb-4">
            <li><a href="sermons.html" class="text-[#2046B3] underline hover:text-[#FDBA17]">Sermon Archive</a></li>
            <li><a href="#" class="text-[#2046B3] underline hover:text-[#FDBA17]">Topical Articles</a></li>
          </ul>
        </div>
      </div>
      <div class="absolute left-1/2 -bottom-8 -translate-x-1/2 w-24 h-2 bg-gradient-to-r from-[#7C3AED] via-[#FDBA17] to-[#2046B3] rounded-full shadow-lg"></div>
      <!-- SVG Wave Divider -->
      <svg class="absolute left-0 right-0 -bottom-16 w-full h-12" viewBox="0 0 1440 80" fill="none"><path fill="#FEF3C7" fill-opacity="0.7" d="M0,32L60,37.3C120,43,240,53,360,53.3C480,53,600,43,720,37.3C840,32,960,32,1080,37.3C1200,43,1320,53,1380,58.7L1440,64L1440,80L1380,80C1320,80,1200,80,1080,80C960,80,840,80,720,80C600,80,480,80,360,80C240,80,120,80,60,80L0,80Z"></path></svg>
  </section>

    <!-- Testimonies -->
    <section class="relative max-w-3xl mx-auto py-16 px-4 mb-16 text-center bg-gradient-to-br from-[#F3E8FF]/60 to-[#FEF3C7]/60 rounded-xl shadow-xl border-t-4 border-[#FDBA17] opacity-0 animate-fade-in delay-400">
      <div class="flex justify-center mb-4">
        <div class="bg-[#FDBA17]/10 rounded-full p-3">
          <svg class="w-8 h-8 text-[#FDBA17]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"/></svg>
    </div>
      </div>
      <h2 class="text-2xl md:text-3xl font-extrabold text-[#7C3AED] mb-4 text-center tracking-tight">Testimonies</h2>
      <div class="space-y-6 mb-4">
        <div class="flex flex-col items-center md:flex-row md:items-start md:gap-6 bg-white rounded-xl shadow p-6 border-l-4 border-[#FDBA17]">
          <img src="assets/images/testimonies/Sharon Cherotich.jpg" alt="Sharon Cherotich" class="w-20 h-20 object-cover rounded-full border-4 border-[#FDBA17] shadow mb-4 md:mb-0" />
          <div class="text-gray-700 italic text-center md:text-left">
            From the Discipleship class my faith in God has been built through the word and prayer.<br>
            I now have a good relationship with the Holy Spirit.<br>
            God has given me freedom and victory from the battles I had and now my focus is God and my relationship with Him.<br>
            <span class="block mt-2 font-bold text-[#2046B3]">â€” Sharon Cherotich</span>
        </div>
        </div>
        <div class="flex flex-col items-center md:flex-row md:items-start md:gap-6 bg-white rounded-xl shadow p-6 border-l-4 border-[#7C3AED]">
          <img src="assets/images/testimonies/Angel Mwende.jpg" alt="Angel Mwende" class="w-20 h-20 object-cover rounded-full border-4 border-[#7C3AED] shadow mb-4 md:mb-0" />
          <div class="text-gray-700 italic text-center md:text-left">
            My name is Angel and I was part of the 14 days discipleship class. I thank God for giving me an opportunity to be a part of it, I really learnt a lot and for sure it was a life changing experience.<br>
            <span class="block mt-2 font-bold text-[#7C3AED]">â€” Angel Mwende</span>
          </div>
        </div>
      </div>
      <div class="absolute left-1/2 -bottom-8 -translate-x-1/2 w-24 h-2 bg-gradient-to-r from-[#FDBA17] via-[#7C3AED] to-[#2046B3] rounded-full shadow-lg"></div>
      <!-- SVG Wave Divider -->
      <svg class="absolute left-0 right-0 -bottom-16 w-full h-12" viewBox="0 0 1440 80" fill="none"><path fill="#F3E8FF" fill-opacity="0.7" d="M0,32L60,37.3C120,43,240,53,360,53.3C480,53,600,43,720,37.3C840,32,960,32,1080,37.3C1200,43,1320,53,1380,58.7L1440,64L1440,80L1380,80C1320,80,1200,80,1080,80C960,80,840,80,720,80C600,80,480,80,360,80C240,80,120,80,60,80L0,80Z"></path></svg>
    </section>

    <!-- Contact / Questions -->
    <section id="contact-discipleship" class="relative max-w-2xl mx-auto py-16 px-4 text-center bg-white rounded-xl shadow-xl mb-24 border-t-4 border-[#7C3AED] opacity-0 animate-fade-in delay-500">
      <div class="flex justify-center mb-4">
        <div class="bg-[#7C3AED]/10 rounded-full p-3">
          <svg class="w-8 h-8 text-[#7C3AED]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M16 12H8m8 0a4 4 0 11-8 0 4 4 0 018 0zm-4 4v4m0 0H8m4 0h4"/></svg>
        </div>
      </div>
      <h2 class="text-2xl md:text-3xl font-extrabold text-[#7C3AED] mb-4 tracking-tight">Contact / Questions</h2>
      <p class="text-gray-700 mb-4">Have questions or want to join? Reach out to our discipleship team below:</p>
      <form class="space-y-4 mb-6">
        <input type="text" name="name" placeholder="Your Name" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-[#7C3AED] focus:outline-none" required aria-label="Your Name" />
        <input type="email" name="email" placeholder="Your Email" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-[#7C3AED] focus:outline-none" required aria-label="Your Email" />
        <textarea name="message" placeholder="Your Message" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-[#7C3AED] focus:outline-none" rows="4" required aria-label="Your Message"></textarea>
        <button type="submit" class="cta-btn inline-flex items-center gap-2 px-8 py-3 bg-[#7C3AED] text-white font-bold rounded-full shadow-lg hover:bg-[#5B23B4] hover:text-white transition focus:outline-none focus-visible:ring-4 focus-visible:ring-[#7C3AED]/40" aria-label="Send Message"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg>Send Message</button>
      </form>
      <a href="https://chat.whatsapp.com/Cyjm2DDg5Gi08QHDW6Uw5p?mode=r_t" target="_blank" rel="noopener" class="cta-btn inline-flex items-center gap-2 px-8 py-3 bg-green-500 text-white font-bold rounded-full shadow-lg hover:bg-green-600 transition focus:outline-none focus-visible:ring-4 focus-visible:ring-green-400/40" aria-label="Join Discipleship WhatsApp">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/></svg>
        Join Discipleship WhatsApp
      </a>
      <div class="absolute left-1/2 -bottom-8 -translate-x-1/2 w-24 h-2 bg-gradient-to-r from-[#7C3AED] via-[#FDBA17] to-[#2046B3] rounded-full shadow-lg"></div>
    </section>

    <style>
      @keyframes fade-in { from { opacity: 0; transform: translateY(32px); } to { opacity: 1; transform: none; } }
      .animate-fade-in { animation: fade-in 1s cubic-bezier(.4,0,.2,1) both; }
      .delay-100 { animation-delay: .1s; }
      .delay-200 { animation-delay: .2s; }
      .delay-300 { animation-delay: .3s; }
      .delay-400 { animation-delay: .4s; }
      .delay-500 { animation-delay: .5s; }
    </style>

  </main>
  <div id="site-footer"></div>

  <script src="assets/js/main.js"></script>
  <script>
    // Modal logic
    const authModal = document.getElementById('auth-modal');
    const openAuthBtns = [document.getElementById('open-auth'), document.getElementById('hero-auth')];
    const closeAuthBtn = document.getElementById('close-auth');
    const showLoginBtn = document.getElementById('show-login');
    const showRegisterBtn = document.getElementById('show-register');
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');
    const authTitle = document.getElementById('auth-title');
    const authDesc = document.getElementById('auth-desc');
    const authMessage = document.getElementById('auth-message');
    const dashboard = document.getElementById('dashboard');
    const dashboardUser = document.getElementById('dashboard-user');
    const progressBar = document.getElementById('progress-bar');
    const progressLabel = document.getElementById('progress-label');

    openAuthBtns.forEach(btn => btn && btn.addEventListener('click', () => {
      authModal.classList.remove('hidden');
      showLogin();
    }));
    // Fix: Only add event listener if closeAuthBtn exists
    if (closeAuthBtn) {
      closeAuthBtn.addEventListener('click', () => authModal.classList.add('hidden'));
    }
    showLoginBtn.addEventListener('click', showLogin);
    showRegisterBtn.addEventListener('click', showRegister);

    function showLogin() {
      loginForm.classList.remove('hidden');
      registerForm.classList.add('hidden');
      authTitle.textContent = 'Sign In';
      authDesc.textContent = 'Access your discipleship journey';
      showLoginBtn.classList.add('bg-white', 'text-blue-900', 'shadow-sm');
      showLoginBtn.classList.remove('text-gray-600');
      showRegisterBtn.classList.remove('bg-white', 'text-blue-900', 'shadow-sm');
      showRegisterBtn.classList.add('text-gray-600');
      authMessage.textContent = '';
    }
    function showRegister() {
      loginForm.classList.add('hidden');
      registerForm.classList.remove('hidden');
      authTitle.textContent = 'Register';
      authDesc.textContent = 'Create your account to start your discipleship journey';
      showRegisterBtn.classList.add('bg-white', 'text-blue-900', 'shadow-sm');
      showRegisterBtn.classList.remove('text-gray-600');
      showLoginBtn.classList.remove('bg-white', 'text-blue-900', 'shadow-sm');
      showLoginBtn.classList.add('text-gray-600');
      authMessage.textContent = '';
    }

    // Login handler
    loginForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;
      // Demo admin
      if (email === 'admin@ministry.com' && password === 'admin123') {
        setLoggedInUser({ name: 'Administrator', email, role: 'admin' });
        window.location.href = 'discipleship-admin.html';
        return;
      }
      // Demo user
      if (email === 'user@email.com' && password === 'user123') {
        setLoggedInUser({ name: 'John Doe', email, role: 'user' });
        window.location.href = 'discipleship-user.html';
        return;
      }
      // Registered users
      const users = getUsers();
      const user = users.find(u => u.email === email && u.password === password);
      if (user) {
        setLoggedInUser({ name: user.name, email: user.email, role: 'user' });
        window.location.href = 'discipleship-user.html';
      } else {
        authMessage.textContent = 'Invalid email or password.';
        authMessage.className = 'mt-4 text-center text-sm font-semibold text-red-600';
      }
    });
    // Register handler
    registerForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('register-name').value;
      const email = document.getElementById('register-email').value;
      const password = document.getElementById('register-password').value;
      const confirm = document.getElementById('register-confirm-password').value;
      if (password !== confirm) {
        authMessage.textContent = 'Passwords do not match.';
        authMessage.className = 'mt-4 text-center text-sm font-semibold text-red-600';
        return;
      }
      if (password.length < 6) {
        authMessage.textContent = 'Password must be at least 6 characters.';
        authMessage.className = 'mt-4 text-center text-sm font-semibold text-red-600';
        return;
      }
      const users = getUsers();
      if (users.find(u => u.email === email)) {
        authMessage.textContent = 'Email already registered.';
        authMessage.className = 'mt-4 text-center text-sm font-semibold text-red-600';
        return;
      }
      users.push({ name, email, password });
      setUsers(users);
      authMessage.textContent = 'Account created! You can now sign in.';
      authMessage.className = 'mt-4 text-center text-sm font-semibold text-green-600';
      registerForm.reset();
      setTimeout(showLogin, 1500);
    });
    // Show dashboard after login
    function showDashboard(name) {
      authModal.classList.add('hidden');
      dashboard.classList.remove('hidden');
      dashboardUser.textContent = name;
      document.body.classList.remove('overflow-hidden');
      // Optionally update progress bar, etc.
    }
    // Auto-login if already logged in
    window.addEventListener('DOMContentLoaded', () => {
      const user = getLoggedInUser();
      if (user) showDashboard(user.name);
    });

    (function() {
      // Assume current admin is stored in localStorage as {id, name}
      function getCurrentAdmin() {
        return JSON.parse(localStorage.getItem('current_admin') || '{"id":"admin_1","name":"Super Admin"}');
      }

      // Enhanced log with moderator attribution
      function addModerationLog({ userId, action, until, reason }) {
        const logs = JSON.parse(localStorage.getItem('moderation_logs') || '[]');
        const admin = getCurrentAdmin();
        logs.push({
          id: 'log_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6),
          userId,
          action,
          until,
          reason,
          moderatorId: admin.id,
          moderatorName: admin.name,
          timestamp: Date.now()
        });
        localStorage.setItem('moderation_logs', JSON.stringify(logs));
      }
      window.addModerationLog = addModerationLog;

      // Render logs with search/filter/export
      window.renderModerationLogsTable = function() {
        let logs = window.loadModerationLogs ? window.loadModerationLogs() : [];
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const tableBody = document.getElementById('moderation-logs-table-body');
        if (!tableBody) return;

        // Filtering
        const search = (document.getElementById('log-search-input') || {}).value || '';
        const actionFilter = (document.getElementById('log-action-filter') || {}).value || '';
        logs = logs.filter(log => {
          const user = users.find(u => u.id === log.userId);
          const userName = user ? user.name : log.userId;
          const moderatorName = log.moderatorName || '';
          return (
            (!actionFilter || log.action === actionFilter) &&
            (
              userName.toLowerCase().includes(search.toLowerCase()) ||
              (log.reason && log.reason.toLowerCase().includes(search.toLowerCase())) ||
              moderatorName.toLowerCase().includes(search.toLowerCase())
            )
          );
        });

        tableBody.innerHTML = '';
        logs.slice().reverse().forEach(log => {
          const user = users.find(u => u.id === log.userId);
          tableBody.innerHTML += `
            <tr>
              <td class="px-4 py-2">${user ? user.name : log.userId}</td>
              <td class="px-4 py-2">${log.action}</td>
              <td class="px-4 py-2">${log.reason || '-'}</td>
              <td class="px-4 py-2">${log.until ? (log.until === null ? 'Permanent' : new Date(log.until).toLocaleString()) : '-'}</td>
              <td class="px-4 py-2">${new Date(log.timestamp).toLocaleString()}</td>
              <td class="px-4 py-2">${log.moderatorName || '-'}</td>
            </tr>
          `;
        });
      };

      // Export logs as CSV
      function exportLogsAsCSV() {
        const logs = window.loadModerationLogs ? window.loadModerationLogs() : [];
        if (!logs.length) return alert('No logs to export!');
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const header = ['User', 'Action', 'Reason', 'Until', 'Timestamp', 'Moderator'];
        const rows = logs.map(log => {
          const user = users.find(u => u.id === log.userId);
          return [
            `"${user ? user.name : log.userId}"`,
            `"${log.action}"`,
            `"${log.reason || ''}"`,
            `"${log.until ? (log.until === null ? 'Permanent' : new Date(log.until).toLocaleString()) : '-'}"`,
            `"${new Date(log.timestamp).toLocaleString()}"`,
            `"${log.moderatorName || '-'}"`
          ].join(',');
        });
        const csv = [header.join(','), ...rows].join('\n');
        const blob = new Blob([csv], { type: 'text/csv' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'moderation_logs.csv';
        link.click();
      }

      // Event listeners for search/filter/export
      document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('log-search-input');
        const actionFilter = document.getElementById('log-action-filter');
        const exportBtn = document.getElementById('export-logs-btn');
        if (searchInput) searchInput.addEventListener('input', window.renderModerationLogsTable);
        if (actionFilter) actionFilter.addEventListener('change', window.renderModerationLogsTable);
        if (exportBtn) exportBtn.addEventListener('click', exportLogsAsCSV);
        window.renderModerationLogsTable && window.renderModerationLogsTable();
      });
    })();

    // =====================
    // User Moderation Logic
    // =====================
    (function() {
      // Sample users for demonstration
      function initializeUsers() {
        if (!localStorage.getItem('users')) {
          const users = [
            { id: 'user_1', name: 'John Doe', status: 'active', banInfo: null, muteInfo: null },
            { id: 'user_2', name: 'Jane Smith', status: 'active', banInfo: null, muteInfo: null }
          ];
          localStorage.setItem('users', JSON.stringify(users));
        }
      }

      function loadUsers() {
        return JSON.parse(localStorage.getItem('users') || '[]');
      }

      function saveUsers(users) {
        localStorage.setItem('users', JSON.stringify(users));
      }

      // Render user moderation table
      window.renderUserModerationTable = function() {
        const users = loadUsers();
        const tableBody = document.getElementById('user-moderation-table-body');
        if (!tableBody) return;
        tableBody.innerHTML = '';
        users.forEach(user => {
          let banMuteInfo = '';
          if (user.banInfo && user.banInfo.active) {
            banMuteInfo += `<span class="text-red-600">Banned</span> until ${user.banInfo.until ? new Date(user.banInfo.until).toLocaleString() : 'Permanent'}<br>`;
          }
          if (user.muteInfo && user.muteInfo.active) {
            banMuteInfo += `<span class="text-yellow-600">Muted</span> until ${user.muteInfo.until ? new Date(user.muteInfo.until).toLocaleString() : 'Permanent'}`;
          }
          tableBody.innerHTML += `
            <tr>
              <td class="px-4 py-2">${user.name}</td>
              <td class="px-4 py-2">${user.status}</td>
              <td class="px-4 py-2">${banMuteInfo || '-'}</td>
              <td class="px-4 py-2">
                <button class="btn-moderate-user bg-[#7C3AED] text-white px-2 py-1 rounded text-xs" data-id="${user.id}">
                  Moderate
                </button>
              </td>
            </tr>
          `;
        });
      };

      // Open user moderation modal
      window.openUserModerationModal = function(userId) {
        const users = loadUsers();
        const user = users.find(u => u.id === userId);
        if (!user) return;
        document.getElementById('user-moderation-modal-title').innerText = `Moderate ${user.name}`;
        document.getElementById('user-moderation-modal-body').innerHTML = `
          <div><strong>Status:</strong> ${user.status}</div>
          <div><strong>Ban:</strong> ${user.banInfo && user.banInfo.active ? 'Active' : 'None'}</div>
          <div><strong>Mute:</strong> ${user.muteInfo && user.muteInfo.active ? 'Active' : 'None'}</div>
        `;
        document.getElementById('user-moderation-form').dataset.userid = userId;
        document.getElementById('user-moderation-modal').classList.remove('hidden');
      };

      // Close modal
      document.getElementById('user-moderation-modal-cancel').onclick = function() {
        document.getElementById('user-moderation-modal').classList.add('hidden');
      };

      // Show/hide duration select based on action
      document.getElementById('moderation-action-select').onchange = function() {
        const group = document.getElementById('moderation-duration-group');
        if (this.value === 'ban' || this.value === 'mute') {
          group.style.display = '';
        } else {
          group.style.display = 'none';
        }
      };

      // Handle moderation form submit
      document.getElementById('user-moderation-form').onsubmit = function(e) {
        e.preventDefault();
        const userId = this.dataset.userid;
        const action = document.getElementById('moderation-action-select').value;
        const duration = parseInt(document.getElementById('moderation-duration-select').value, 10);
        const reason = document.getElementById('moderation-reason-input').value;
        let users = loadUsers();
        const user = users.find(u => u.id === userId);
        const now = Date.now();
        let until = duration === 0 ? null : now + duration * 1000;
        if (action === 'ban') {
          user.banInfo = { active: true, until, reason, timestamp: now };
          user.status = 'banned';
          addModerationLog({ userId, action: 'ban', until, reason });
        } else if (action === 'mute') {
          user.muteInfo = { active: true, until, reason, timestamp: now };
          addModerationLog({ userId, action: 'mute', until, reason });
        } else if (action === 'unban') {
          user.banInfo = { active: false, until: null, reason: '', timestamp: now };
          user.status = 'active';
          addModerationLog({ userId, action: 'unban', until: null, reason });
        } else if (action === 'unmute') {
          user.muteInfo = { active: false, until: null, reason: '', timestamp: now };
          addModerationLog({ userId, action: 'unmute', until: null, reason });
        }
        saveUsers(users);
        renderUserModerationTable();
        document.getElementById('user-moderation-modal').classList.add('hidden');
      };

      // Event delegation for moderate buttons
      document.addEventListener('click', function(e) {
        if (e.target.classList.contains('btn-moderate-user')) {
          openUserModerationModal(e.target.dataset.id);
        }
      });

      // Periodic check for expired bans/mutes
      setInterval(() => {
        let users = loadUsers();
        let changed = false;
        const now = Date.now();
        users.forEach(user => {
          if (user.banInfo && user.banInfo.active && user.banInfo.until && now > user.banInfo.until) {
            user.banInfo.active = false;
            user.status = 'active';
            changed = true;
          }
          if (user.muteInfo && user.muteInfo.active && user.muteInfo.until && now > user.muteInfo.until) {
            user.muteInfo.active = false;
            changed = true;
          }
        });
        if (changed) {
          saveUsers(users);
          renderUserModerationTable();
        }
      }, 60000); // Check every minute

      // Initialize and render on DOMContentLoaded
      document.addEventListener('DOMContentLoaded', function() {
        initializeUsers();
        renderUserModerationTable();
      });
    })();
    // =====================
    // End User Moderation Logic
    // =====================

    // Animated underline logic
    const navLinks = document.querySelectorAll('#nav-links .nav-link');
    const navUnderline = document.getElementById('nav-underline');
    function moveUnderline(el) {
      if (!el) return;
      const rect = el.getBoundingClientRect();
      const parentRect = el.parentElement.parentElement.getBoundingClientRect();
      navUnderline.style.width = rect.width + 'px';
      navUnderline.style.left = (rect.left - parentRect.left) + 'px';
    }
    navLinks.forEach(link => {
      link.addEventListener('mouseenter', e => moveUnderline(e.target));
      link.addEventListener('focus', e => moveUnderline(e.target));
      link.addEventListener('mouseleave', () => {
        const active = document.querySelector('#nav-links .nav-link.active');
        moveUnderline(active);
      });
    });
    window.addEventListener('DOMContentLoaded', () => {
      const active = document.querySelector('#nav-links .nav-link.active');
      moveUnderline(active);
    });
  </script>
  <!-- Register Modal (Professional Redesign) -->
  <div id="register-modal" class="modal-bg hidden" style="display: none;">
    <div class="modal-content relative w-full max-w-sm p-4 sm:p-6">
      <button id="register-modal-close" class="absolute top-3 right-3 text-2xl text-[#7C3AED] hover:text-[#FDBA17]" aria-label="Close registration modal">&times;</button>
      <div id="login-section">
        <div class="flex justify-center mb-2">
          <img src="assets/images/WhatsApp%20Image%202025-07-04%20at%2017.27.34_37ced412.jpg" alt="Hearts After God Ministry Logo" class="h-12 w-12 rounded-full border-4 border-[#FDBA17] shadow-lg" />
        </div>
        <h2 class="text-xl font-bold text-[#7C3AED] mb-2 text-center">Sign In</h2>
        <form id="login-form" class="space-y-3 text-left" autocomplete="off" novalidate>
          <div>
            <label for="login-email" class="block text-xs font-semibold text-[#7C3AED] mb-1">Email</label>
            <input id="login-email" name="email" type="email" placeholder="Email" required class="w-full px-3 py-2 border rounded focus:ring-2 focus:ring-[#7C3AED] text-base" aria-label="Email" />
          </div>
          <div>
            <label for="login-password" class="block text-xs font-semibold text-[#7C3AED] mb-1">Password</label>
            <div class="relative">
              <input id="login-password" name="password" type="password" placeholder="Password" required class="w-full px-3 py-2 border rounded focus:ring-2 focus:ring-[#7C3AED] text-base pr-10" aria-label="Password" />
              <button type="button" tabindex="-1" class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#7C3AED] focus:outline-none" aria-label="Show or hide password" onclick="togglePasswordVisibility('login-password', this)">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
              </button>
            </div>
          </div>
          <button type="submit" class="w-full px-6 py-2 bg-[#7C3AED] text-white font-bold rounded-full shadow-lg hover:bg-[#5B23B4] hover:text-white transition text-base">Login</button>
          <div id="login-message" class="mt-1 text-center text-xs font-semibold"></div>
        </form>
        <div class="mt-4 text-center text-sm">
          Don't have an account? <button id="show-register-link" class="text-[#7C3AED] font-bold hover:underline">Sign up here</button>
        </div>
      </div>
      <div id="register-section" class="hidden">
        <div class="flex justify-center mb-2">
          <img src="assets/images/WhatsApp%20Image%202025-07-04%20at%2017.27.34_37ced412.jpg" alt="Hearts After God Ministry Logo" class="h-12 w-12 rounded-full border-4 border-[#FDBA17] shadow-lg" />
        </div>
        <h2 class="text-xl font-bold text-[#7C3AED] mb-2 text-center">Register as a Disciple</h2>
        <form id="register-form" class="space-y-2 text-left" autocomplete="off" novalidate>
          <div>
            <label for="register-name" class="block text-xs font-semibold text-[#7C3AED] mb-1">Full Name</label>
            <input id="register-name" name="name" type="text" placeholder="Full Name" required class="w-full px-2 py-1.5 border rounded focus:ring-2 focus:ring-[#7C3AED] text-base" aria-label="Full Name" />
          </div>
          <div>
            <label for="register-email" class="block text-xs font-semibold text-[#7C3AED] mb-1">Email</label>
            <input id="register-email" name="email" type="email" placeholder="Email" required class="w-full px-2 py-1.5 border rounded focus:ring-2 focus:ring-[#7C3AED] text-base" aria-label="Email" />
          </div>
          <div>
            <label for="register-phone" class="block text-xs font-semibold text-[#7C3AED] mb-1">WhatsApp/Phone</label>
            <input id="register-phone" name="phone" type="tel" placeholder="WhatsApp/Phone" required class="w-full px-2 py-1.5 border rounded focus:ring-2 focus:ring-[#7C3AED] text-base" aria-label="WhatsApp or Phone" />
          </div>
          <div>
            <label for="register-password" class="block text-xs font-semibold text-[#7C3AED] mb-1">Password</label>
            <div class="relative">
              <input id="register-password" name="password" type="password" placeholder="Password" required class="w-full px-2 py-1.5 border rounded focus:ring-2 focus:ring-[#7C3AED] text-base pr-10" aria-label="Password" />
              <button type="button" tabindex="-1" class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#7C3AED] focus:outline-none" aria-label="Show or hide password" onclick="togglePasswordVisibility('register-password', this)">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
              </button>
            </div>
            <div id="password-feedback" class="text-xs mt-1 mb-1"></div>
          </div>
          <div>
            <label for="register-confirm-password" class="block text-xs font-semibold text-[#7C3AED] mb-1">Confirm Password</label>
            <div class="relative">
              <input id="register-confirm-password" name="confirm" type="password" placeholder="Confirm Password" required class="w-full px-2 py-1.5 border rounded focus:ring-2 focus:ring-[#7C3AED] text-base pr-10" aria-label="Confirm Password" />
              <button type="button" tabindex="-1" class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#7C3AED] focus:outline-none" aria-label="Show or hide password" onclick="togglePasswordVisibility('register-confirm-password', this)">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
              </button>
            </div>
          </div>
          <button type="submit" class="w-full px-6 py-2 bg-[#7C3AED] text-white font-bold rounded-full shadow-lg hover:bg-[#5B23B4] hover:text-white transition text-base">Register</button>
          <div id="register-message" class="mt-1 text-center text-xs font-semibold"></div>
        </form>
        <div class="mt-4 text-center text-sm">
          Already have an account? <button id="show-login-link" class="text-[#7C3AED] font-bold hover:underline">Sign in here</button>
        </div>
      </div>
    </div>
  </div>
  <style>
    .modal-bg { position: fixed; inset: 0; background: rgba(44,44,44,0.4); z-index: 100; display: flex; align-items: center; justify-content: center; animation: fadeIn 0.2s; }
    .modal-content { background: #fff; border-radius: 1rem; box-shadow: 0 8px 32px rgba(0,0,0,0.18); padding: 1.2rem 1.2rem; text-align: center; min-width: 260px; animation: popIn 0.2s; max-width: 340px; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes popIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Modal open/close logic
      var modal = document.getElementById('register-modal');
      var closeBtn = document.getElementById('register-modal-close');
      var openBtns = document.querySelectorAll('[data-open-register-modal]');
      var registerSection = document.getElementById('register-section');
      var loginSection = document.getElementById('login-section');
      var regForm = document.getElementById('register-form');
      var loginForm = document.getElementById('login-form');

      function openRegisterModal() {
        modal.classList.remove('hidden');
        modal.style.display = 'flex';
        // Always show login section first
        registerSection.classList.add('hidden');
        loginSection.classList.remove('hidden');
        localStorage.setItem('modalLastState', 'login');
      }
      function closeRegisterModal() {
        modal.classList.add('hidden');
        modal.style.display = 'none';
        document.getElementById('register-success')?.classList.add('hidden');
        document.getElementById('login-success')?.classList.add('hidden');
      }
      if (closeBtn) closeBtn.addEventListener('click', closeRegisterModal);
      openBtns.forEach(function(btn) {
        btn.addEventListener('click', function() {
          localStorage.setItem('modalLastState', 'register');
          openRegisterModal();
        });
      });
      document.addEventListener('click', function(e) {
        if (e.target && e.target.id === 'register-modal-close') {
          closeRegisterModal();
        }
      });
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeRegisterModal();
        }
      });

      // Password strength feedback
      const passwordInput = document.getElementById('register-password');
      const feedback = document.getElementById('password-feedback');
      function validatePasswordStrength(password) {
        const minLength = 8;
        const hasUpper = /[A-Z]/.test(password);
        const hasLower = /[a-z]/.test(password);
        const hasNumber = /[0-9]/.test(password);
        const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
        return {
          minLength,
          hasUpper,
          hasLower,
          hasNumber,
          hasSpecial,
          valid: password.length >= minLength && hasUpper && hasLower && hasNumber && hasSpecial
        };
      }
      if (passwordInput && feedback) {
        passwordInput.addEventListener('input', function() {
          const val = passwordInput.value;
          const res = validatePasswordStrength(val);
          feedback.innerHTML = `
            <div>Password must have:</div>
            <ul class='ml-4'>
              <li style='color:${val.length >= res.minLength ? 'green' : 'red'}'>â€¢ At least 8 characters</li>
              <li style='color:${res.hasUpper ? 'green' : 'red'}'>â€¢ An uppercase letter</li>
              <li style='color:${res.hasLower ? 'green' : 'red'}'>â€¢ A lowercase letter</li>
              <li style='color:${res.hasNumber ? 'green' : 'red'}'>â€¢ A number</li>
              <li style='color:${res.hasSpecial ? 'green' : 'red'}'>â€¢ A special character</li>
            </ul>
          `;
        });
      }

      // Registration form logic
      if (regForm) {
        regForm.onsubmit = function(e) {
          e.preventDefault();
          console.log('Register form submitted');
          const name = document.getElementById('register-name').value;
          const email = document.getElementById('register-email').value;
          const phone = document.getElementById('register-phone').value;
          const password = document.getElementById('register-password').value;
          const confirm = document.getElementById('register-confirm-password').value;
          const res = validatePasswordStrength(password);
          const msg = document.getElementById('register-message');
          msg.textContent = '';
          msg.className = 'mt-1 text-center text-xs font-semibold';
          if (password !== confirm) {
            msg.textContent = 'Passwords do not match. Please make sure both passwords are identical.';
            msg.classList.add('text-red-600');
            return;
          }
          if (!res.valid) {
            msg.textContent = 'Password does not meet all requirements.';
            msg.classList.add('text-red-600');
            return;
          }
          let users = JSON.parse(localStorage.getItem('discipleship_users') || '[]');
          if (users.find(u => u.email === email)) {
            msg.textContent = 'Email already registered.';
            msg.classList.add('text-red-600');
            return;
          }
          users.push({ name, email, phone, password });
          localStorage.setItem('discipleship_users', JSON.stringify(users));
          // Show login form and success message
          registerSection.classList.add('hidden');
          loginSection.classList.remove('hidden');
          const loginMsg = document.getElementById('login-message');
          if (loginMsg) {
            loginMsg.textContent = 'Registration successful! Please sign in.';
            loginMsg.className = 'mt-1 text-center text-xs font-semibold text-green-600';
          }
          // Set modal state to login for next open
          localStorage.setItem('modalLastState', 'login');
          regForm.reset();
        };
      }

      // Login form logic
      if (loginForm) {
        loginForm.onsubmit = function(e) {
          e.preventDefault();
          const email = document.getElementById('login-email').value;
          const password = document.getElementById('login-password').value;
          let users = JSON.parse(localStorage.getItem('discipleship_users') || '[]');
          const user = users.find(u => u.email === email);
          const msg = document.getElementById('login-message');
          msg.textContent = '';
          msg.className = 'mt-2 text-center text-sm font-semibold';
          if (!user) {
            msg.textContent = 'No account found with this email.';
            msg.classList.add('text-red-600');
            return;
          }
          if (user.password !== password) {
            msg.textContent = 'Incorrect password. Please try again.';
            msg.classList.add('text-red-600');
            return;
          }
          msg.textContent = 'Login successful! Redirecting to your dashboard...';
          msg.classList.remove('text-red-600');
          msg.classList.add('text-green-600');
          setTimeout(function() {
            window.location.href = 'discipleship-user.html';
          }, 1500);
        };
      }

      var showRegisterLink = document.getElementById('show-register-link');
      var showLoginLink = document.getElementById('show-login-link');
      if (showRegisterLink) {
        showRegisterLink.addEventListener('click', function() {
          document.getElementById('login-section').classList.add('hidden');
          document.getElementById('register-section').classList.remove('hidden');
        });
      }
      if (showLoginLink) {
        showLoginLink.addEventListener('click', function() {
          document.getElementById('register-section').classList.add('hidden');
          document.getElementById('login-section').classList.remove('hidden');
        });
      }
      // Always show login first by default
      document.getElementById('login-section').classList.remove('hidden');
      document.getElementById('register-section').classList.add('hidden');
    });
    function togglePasswordVisibility(inputId, btn) {
      const input = document.getElementById(inputId);
      if (!input) return;
      if (input.type === 'password') {
        input.type = 'text';
        btn.querySelector('svg').innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.956 9.956 0 012.042-3.292m1.528-1.528A9.956 9.956 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.956 9.956 0 01-4.132 5.225M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M3 3l18 18"/>';
      } else {
        input.type = 'password';
        btn.querySelector('svg').innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>';
      }
    }
  </script>
</body>
</html> 